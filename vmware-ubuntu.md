[toc]

## ğŸ§Š vmware-ubuntu çš„è™šæ‹Ÿæœºé…ç½®ç¬”è®°

### åˆå§‹åŒ– su è´¦æˆ· (è¶…çº§ç”¨æˆ·)

Ubuntu é»˜è®¤æ˜¯é”å®š root è´¦æˆ·çš„ï¼Œæ²¡æœ‰è®¾ç½®å¯†ç ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®åï¼Œå³å¯è¿›å…¥ root ç”¨æˆ·

```bash
sudo passwd root
```



### è¿æ¥å…¬ç½‘ ip

æ‰“å¼€ Vmware --> ç¼–è¾‘ --> è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨

![](./img/vmware-1.png)

å°†åŸæœ‰çš„ NAT æ¨¡å¼çš„ VMnetx åˆ æ‰ï¼Œæ·»åŠ æ–°ç½‘ç»œï¼Œåç§°ä»»æ„ï¼Œç„¶åå°†æ¨¡å¼æ›´æ”¹ä¸º NAT æ¨¡å¼

![](./img/vmware-2.png)

ä¸€èˆ¬è™šæ‹Ÿæœºé»˜è®¤çš„ ip æ˜¯ `192.168.10.x` ï¼Œä»¥ä¸‹æ“ä½œé»˜è®¤è”ç½‘åï¼Œè™šæ‹Ÿæœºçš„ ip ä¸º `192.168.10.x` ï¼ŒåŒæ—¶ä¹Ÿä¼šä»‹ç»æ›´æ”¹ä¸ºç‰¹å®š ip çš„æ–¹æ³•ã€‚æŒ‰ç…§æ­¤æ–¹æ³•ï¼Œåªè¦è™šæ‹Ÿæœºçš„ ip åœ¨ DHCP è®¾ç½®ä¸­çš„èµ·å§‹ IP åˆ°ç»“æŸ IP ä¹‹é—´éƒ½å¯ä»¥è”ç½‘ (è¿™ä¸€æ­¥åœ¨åé¢æœ‰æåˆ°)

é¦–å…ˆå°†è¿™é‡Œçš„å­ç½‘ IP è®¾ç½®ä¸º `192.168.10.0`ï¼Œå­ç½‘æ©ç è®¾ç½®ä¸º `255.255.255.0`

> è‹¥éœ€è¦ç‰¹å®šçš„ ipï¼Œåˆ™è®¾ç½®ä¸º `xxx.xxx.xxx.xxx`ã€‚ä¾‹å¦‚æƒ³è¦è”ç½‘åè™šæ‹Ÿæœºçš„ ip ä¸º `10.168.99.x`ï¼Œåˆ™å­ç½‘ ip è®¾ç½®ä¸º `10.168.99.0`

ç‚¹å‡» NAT è®¾ç½®ï¼Œå°†ç½‘å…³ IP è®¾ç½®ä¸º `192.168.10.2`

> è‹¥æƒ³è¦ç‰¹å®šçš„ ipï¼Œä¾‹å¦‚è”ç½‘åè™šæ‹Ÿæœºçš„ ip ä¸º `10.168.99.x`ï¼Œåˆ™ç½‘å…³ ip è®¾ç½®ä¸º `10.168.99.2`

![](./img/vmware-3.png)

ç‚¹å‡» DHCP è®¾ç½®ï¼Œå¯ä»¥è‡ªå®šä¹‰èµ·å§‹ IP åœ°å€å’Œç»“æŸ IP åœ°å€ ï¼ˆèµ·å§‹ ip å»ºè®®åœ¨ `192.168.10.3` åé¢ï¼‰

> è‹¥éœ€è¦è®¾ç½®ç‰¹å®š ipï¼Œä¾‹å¦‚æƒ³è¦è”ç½‘åè™šæ‹Ÿæœºçš„ ip ä¸º `10.168.99.x`ï¼Œåˆ™èµ·å§‹ ip å’Œç»“æŸ ip éƒ½è¦ä¸º `10.168.99.x`

![](./img/vmware-4.png)

ç‚¹å‡»ç¡®å®šåï¼Œå³å‡»æˆ‘ä»¬éœ€è¦è”ç½‘çš„è™šæ‹Ÿæœºï¼Œç‚¹å‡»è®¾ç½®ï¼Œå°†ç½‘ç»œé€‚é…å™¨é‚£é‡Œæ›´æ”¹ä¸ºè‡ªå®šä¹‰ï¼Œè‡ªå®šä¹‰ä¸ºåˆšæ‰æ–°å»ºçš„ VMnetx

![](./img/vmware-5.png)

ç‚¹å‡»ç¡®å®šåï¼Œå¼€å¯è™šæ‹Ÿæœºå³å¯è”ç½‘ã€‚



### VMWare Tools çš„é…ç½®

VMWare Tools èƒ½å¤Ÿæ”¯æŒç”¨æˆ·ä»æ¡Œé¢å¤åˆ¶åˆ°è™šæ‹Ÿæœºä¸­ï¼Œä½†æ˜¯å®˜æ–¹çš„å®‰è£…æ–¹å¼ ice å°è¯•è¿‡ä½†æ˜¯å¤±è´¥äº†ï¼Œè¿™é‡Œä»‹ç»é€šè¿‡ bash å®‰è£…çš„æ•™ç¨‹ã€‚

```bash
sudo apt-get update
sudo apt-get install open-vm-tools-desktop
reboot
```



### ssh çš„é…ç½®

ssh èƒ½å¤Ÿè®©æˆ‘ä»¬è¿æ¥åˆ°è™šæ‹Ÿæœºï¼Œå¹¶ä¸”é€šè¿‡ä¸€äº›è½¯ä»¶å¾€é‡Œé¢ä¼ å…¥æ–‡ä»¶ (æ­¤å¤„ä»¥ MobaXTerm ä¸ºä¾‹)

å…ˆå®‰è£… OpenSSH å®¢æˆ·ç«¯

```bash
sudo apt update
sudo apt install openssh-client
```



ä½¿ç”¨ `sudo service ssh status` æˆ–è€… `systemctl status ssh` æŸ¥çœ‹ ssh æ˜¯å¦æ­£å¸¸è¿è¡Œ

è‹¥å‡ºç° `Unit ssh.service could not be found`

åˆ™å®‰è£… openssh-server

```bash
sudo apt-get update
sudo apt-get install openssh-server
systemctl enable ssh.service
```



å†æ¬¡ä½¿ç”¨ `sudo service ssh status` æŸ¥çœ‹çŠ¶æ€æ˜¯å¦ä¸º `active (running)`

å†æ¬¡å°è¯•è¿æ¥



è‹¥å‡ºç° `Access Denied`

åˆ™ä¿®æ”¹ä¸€ä¸‹ `sshd_config`

ä½¿ç”¨ `sudo nano /etc/ssh/sshd_config`

å°† `PermitRootLogin` è®¾ç½®ä¸º `yes`

ç„¶åæ‰§è¡Œ `sudo systemctl restart sshd` é‡å¯ sshï¼Œå¹¶å†æ¬¡å°è¯•ã€‚



### VPN çš„é…ç½® (ä»¥ clash ä¸ºä¾‹)

åœ¨ bash ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä»¥åœ¨ç”¨æˆ·ç›®å½•ä¸‹åˆ›å»º clash æ–‡ä»¶å¤¹

```bash
mkdir ~/clash
cd ~/clash
```

åœ¨ `https://github.com/DustinWin/proxy-tools/releases/tag/Clash-Premium` ä¸­ä¸‹è½½ `clashpremium-release-linux-amd64.tar.gz`ï¼Œå¹¶ä¸”æ‰§è¡Œ

```bash
tar -zxvf clashpremium-release-linux-amd64.tar.gz
```

è§£å‹åå°†äºŒè¿›åˆ¶äº§ç‰©é‡å‘½åä¸º clashï¼Œå¹¶ä¸”å°†å…¶ç§»åŠ¨è¿‡å»ã€‚å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤

```bash
sudo mv <ä½ çš„äº§ç‰©åå­—> clash
sudo mv clash ~/clash/
```



ç„¶å cd åˆ° clash äºŒè¿›åˆ¶æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œç™»å½•åˆ° clash çš„ç½‘ç«™ä¸Šï¼Œåœ¨ `ä¸‹è½½ä¸æ•™ç¨‹` æ¿å—ä¸­å¤åˆ¶ wget å‘½ä»¤

æ‰§è¡Œå®Œåï¼Œåœ¨ `~/clash` ç›®å½•ä¸‹é¢æ‰§è¡Œ

```bash
chmod +x clash
./clash -d .
```



ç„¶ååœ¨ Ubuntu çš„ Setting å½“ä¸­çš„ Network é‡Œï¼Œæ›´æ”¹ç½‘ç»œä»£ç†ï¼Œå°†ç±»å‹æ”¹ä¸ºæ‰‹åŠ¨ï¼Œç„¶åå°† `HTTP` å’Œ `HTTPS` ä»£ç†è®¾ç½®ä¸º `127.0.0.1:7890`ï¼Œ`Socks` ä¸»æœºä¸º `127.0.0.1:7891`

![](./img/vmware-6.png)



### å†…ç½‘ç©¿é€ (ä»¥ Sakura Frp ä¸ºä¾‹)



